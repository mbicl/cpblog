{% extends 'articles/article_base.html' %}

{% block title %}{{article.title | truncatewords:3}}{% endblock title %}

{% block content %}
    <h5 style="margin: 15px 15px 15px 30px; float: right;">
        {% if request.user.username == article.owner.username or request.user.is_superuser %}
            <span class="article-data">
                <a href="{% url 'article:article_edit' article.pk %}">
                    Tahrirlash
                </a>
            </span>
            {% if article.reputation < 10 %}
                <span class="article-data danger">
                    <a href="{% url 'article:article_delete' article.pk %}">
                        O'chirish
                    </a>
                </span>
            {% endif %}
        {% endif %}
        <span class="article-data">{{article.created_time | date:'Y-m-d H:i'}}</span>
        <span class="article-data">
            <i class="fa-solid fa-eye"></i>
            <span style="margin-left:5px;">{{article.reputation}}</span>
        </span>
        <span class="article-data">
            <span>Muallif:&nbsp</span>
            <a href="{% url 'accounts:user_profile' article.owner.username %}">
                {{article.owner.username}}
            </a>
        </span>
    </h5>
    <h3 class="article-title">{{article.title}}</h3>
    <article class="article-body">{{article.body|safe}}</article>
{% endblock content %}  

{% block script %}
    <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
{% endblock script %}
